var $ = jQuery;

function initCloseBlock() {
    $(".close-block").on("click", (function () {
        return $(".top-bar").css("display", "none"), $("body").toggleClass("no-top-bar"), !1
    }))
}

function initFixedHeader() {
    window.onscroll = function () {
        window.pageYOffset > e ? $("#header").addClass("sticky") : $("#header").removeClass("sticky")
    };
    var e = header.offsetTop
}

function initHeaderSearch() {
    $(".form-search-btn").on("click", (function () {
        return $(this).closest(".form-search").toggleClass("open"), !1
    })), $(document).click((function (e) {
        $(e.target).closest(".form-search .search").length || ($(".form-search").removeClass("open"), e.stopPropagation())
    }))
}

function initOpenBasket() {
    $("body").on("click", ".btn-basket", (function () {
        return $(this).closest(".basket-box").toggleClass("active"), $("body").toggleClass("open-basket"), !1
    })), $(document).click((function (e) {
        $(e.target).closest(".basket-box .basket-services-box").length || ($(".basket-box").removeClass("active"), $("body").removeClass("open-basket"), e.stopPropagation())
    }))
}

function initMobileNav() {
    $(".mob-btn").on("click", (function () {
        return $(this).closest("#nav").toggleClass("active"), $("body").toggleClass("open-nav"), !1
    })), $(document).click((function (e) {
        $(e.target).closest("#nav .nav-open-drop").length || ($("#nav").removeClass("active"), $("body").removeClass("open-nav"), e.stopPropagation())
    }))
}

function initSpinner() {
    $(".spinner").length && $(".spinner").spinner({min: 1})
}

function initSlickSlider() {
    $(".slider").slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: !1,
        dots: !0,
        fade: !0,
        autoplay: !0,
        autoplaySpeed: 4e3
    })
}

function initSlickSlider2() {
    $(".goods-list-slider").slick({
        slidesToShow: 4,
        slidesToScroll: 1,
        arrows: !0,
        dots: !1,
        responsive: [{breakpoint: 1024, settings: {slidesToShow: 3, slidesToScroll: 1}}, {
            breakpoint: 768,
            settings: {slidesToShow: 2, slidesToScroll: 1}
        }]
    })
}

function initSlickSlider3() {
    $(".reviews-slider").slick({
        slidesToShow: 3,
        slidesToScroll: 1,
        arrows: !0,
        dots: !1,
        adaptiveHeight: !0,
        responsive: [{breakpoint: 1024, settings: {slidesToShow: 2, slidesToScroll: 1}}, {
            breakpoint: 768,
            settings: {slidesToShow: 1, slidesToScroll: 1, centerMode: !0, centerPadding: "100px", arrows: !1}
        }]
    })
}

function initSlickSlider4() {
    $(".social-slider").slick({
        slidesToShow: 4,
        slidesToScroll: 1,
        arrows: !1,
        dots: !0,
        responsive: [{breakpoint: 1024, settings: {slidesToShow: 3, slidesToScroll: 1}}, {
            breakpoint: 768,
            settings: {slidesToShow: 2, slidesToScroll: 1}
        }]
    })
}

function initSlickSliderProduct() {
    $(".slider-for").slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: !1,
        fade: !0,
        adaptiveHeight: !0,
        asNavFor: ".slider-nav"
    }), $(".slider-nav").slick({
        slidesToShow: 4,
        slidesToScroll: 1,
        asNavFor: ".slider-for",
        arrows: !1,
        dots: !1,
        centerMode: !0,
        focusOnSelect: !0,
        responsive: [{breakpoint: 1024, settings: {slidesToShow: 3, slidesToScroll: 1}}, {
            breakpoint: 480,
            settings: {slidesToShow: 2, slidesToScroll: 1}
        }]
    })
}

function initCustomSelect() {
    $(".custom-select select").select2(), $(".js-select2").select2({
        closeOnSelect: !1,
        placeholder: "Групи товарів",
        allowHtml: !0,
        allowClear: !0
    })
}

function initOpenBlock() {
    $(".expanded-opener").on("click", (function () {
        return $(this).closest(".filter-options-item").toggleClass("open-drop"), $(this).closest(".hide-text").toggleClass("open"), $(this).siblings(".expanded").slideToggle(), !1
    })), $(".nav-menu .arrow-down").on("click", (function () {
        return $(this).closest(".menu-item-has-children").toggleClass("open"), $(this).siblings(".nav-menu .sub-menu").slideToggle(), !1
    })), $(".custom-select.multiple .expanded-opener").on("click", (function () {
        return $(this).closest(".custom-select.multiple").toggleClass("open"), $(this).siblings(".custom-select.multiple .filter-options-item").slideToggle(), !1
    })),
    $('.product-info-description .reviews-list-block .btn').on('click', function() {
      $('.product-info-description .reviews-list-block').addClass('open');
      return false;
    });
}

function initAccordion() {
    $(".accordion .opener").on("click", (function () {
        return $(this).closest("li").hasClass("active") ? ($(this).closest("li").removeClass("active"), $(this).closest("li").find(".accordion-slide").slideUp()) : ($(this).closest(".accordion").find(".accordion-slide").slideUp(), $(this).closest(".accordion").find("li").removeClass("active"), $(this).closest("li").addClass("active"), $(this).closest("li").find(".accordion-slide").slideDown()), !1
    })), $(".accordion-mobile-opener").on("click", (function () {
        return $(this).closest(".accordion-mobile > li").toggleClass("open"), $(this).siblings(".accordion-mobile-slide").slideToggle(), !1
    }))
}

function initFixedBlock() {
    $(".fixed-block .fixed-sidebar").stick_in_parent()
}

function initScrollBtn() {
    $(".page-up").click((function () {
        return $("body,html").animate({scrollTop: $(".user-form-block").offset().top}, 1e3), !1
    })), $(".product-info-section .rating-stars .rating-text").click((function () {
        return $(".product-info-description .tabset").toggleClass("open-change"), $(".product-info-description .tabset.open-change .tab-control li").removeClass("active"), $(".product-info-description .tabset.open-change .tab-body .tab").removeClass("active"), $(".product-info-description .tabset.open-change .tab-control li:nth-child(3)").toggleClass("active"), $(".product-info-description .tabset.open-change .tab-body .tab:nth-child(3)").toggleClass("active"), $("body,html").animate({scrollTop: $(".product-info-section .product-info-description").offset().top - 125}, 1e3), !1
    }))
}

function initAnchorMenu() {
    $(".page-navigation").on("click", "a", (function (e) {
        e.preventDefault(), $(".page-navigation li").removeClass("active"), $(this).parent().addClass("active");
        var i = $(this).attr("href"), t = $(i).offset().top - 120;
        $("body,html").animate({scrollTop: t}, 1e3)
    }))
}

function initPlayVideo() {
    $(".playpause").click((function () {
        $("video").attr("controls", ""), $("video")[0].play(), $(".video").toggleClass("play"), $(this).hide()
    }))
}

function initCustomTextarea() {
    document.querySelectorAll("textarea").forEach((e => {
        e.style.height = e.setAttribute("style", "height: " + e.scrollHeight + "px"), e.classList.add("auto"), e.addEventListener("input", (i => {
            e.style.height = "auto", e.style.height = e.scrollHeight + "px"
        }))
    }))
}

function initTabs() {
    $(".tabset .tab-control").on("click", "li:not(.active)", (function () {
        return $(this).addClass("active").siblings().removeClass("active").closest(".tabset").find(".tab").removeClass("active").eq($(this).index()).addClass("active"), !1
    }))
}

function initRatingStars() {
    ratingForm = document.getElementById("ratingForm"), ratingForm && (document.getElementById("ratingForm").onsubmit = function (e) {
        e.preventDefault(), document.querySelector('input[name="rating"]:checked').value, document.querySelector(".panel")
    }, document.querySelectorAll('input[name="rating"]').forEach((e => {
        e.addEventListener("change", (() => {
            !0 === e.checked && (submitBtn.disabled = !1)
        }))
    })))
}

function initLightBox() {
    lightbox.option({resizeDuration: 200, wrapAround: !0})
}

$(document).ready((function () {
    initCloseBlock(), initFixedHeader(), initHeaderSearch(), initOpenBasket(), initMobileNav(), initSpinner(), initSlickSlider(), initSlickSlider2(), initSlickSlider3(), initSlickSlider4(), initSlickSliderProduct(), initCustomSelect(), initOpenBlock(), initAccordion(), initFixedBlock(), initScrollBtn(), initAnchorMenu(), initPlayVideo(), initCustomTextarea(), initTabs(), initRatingStars(), initLightBox()
}));